<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开发文档-1 | Leetcode-runner</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/leetcode-runner-doc/img/logo/leetcode-runner-v1.png">
    <meta name="description" content="为摸鱼而生">
    <meta name="keywords" content="leetcode,Leetcode-runner,力扣">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/leetcode-runner-doc/assets/css/0.styles.45dc8e91.css" as="style"><link rel="preload" href="/leetcode-runner-doc/assets/js/app.9f0fb41e.js" as="script"><link rel="preload" href="/leetcode-runner-doc/assets/js/2.0d2480f6.js" as="script"><link rel="preload" href="/leetcode-runner-doc/assets/js/5.2eb752c5.js" as="script"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/10.01937f1f.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/11.9d762f94.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/12.69582d1c.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/13.ce416283.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/14.18e4d3e6.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/15.d035e1a0.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/16.3943d68a.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/17.57749de9.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/18.ca3e8be1.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/19.92e4dc17.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/20.324bc1e4.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/21.9ba47432.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/3.652da4d1.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/4.f1832c5e.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/6.d585a137.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/7.ae83ad27.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/8.9bcca36d.js"><link rel="prefetch" href="/leetcode-runner-doc/assets/js/9.f05246ec.js">
    <link rel="stylesheet" href="/leetcode-runner-doc/assets/css/0.styles.45dc8e91.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/leetcode-runner-doc/" class="home-link router-link-active"><img src="/leetcode-runner-doc/img/logo/leetcode-runner-v1.png" alt="Leetcode-runner" class="logo"> <span class="site-name can-hide">Leetcode-runner</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/leetcode-runner-doc/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/leetcode-runner-doc/pages/a2f161/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/a2f161/" class="nav-link">简 介</a></li><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/2f674a/" class="nav-link">安 装</a></li><li class="dropdown-item"><h4>开 始</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/793dcb/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/a20ce8/" class="nav-link">使用配置</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/98u9hk/" class="nav-link">辅助功能</a></li></ul></li><li class="dropdown-item"><h4>更新日志</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/jkljjodioj/" class="nav-link">v3.6.9-PATCH</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/leetcode-runner-doc/pages/a20ce8/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/e88d84d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">开发文档-1</a></li><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/yih7ij/" class="nav-link">开发文档-2</a></li><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/0x3f/" class="nav-link">API入门</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/7f76b7/" class="nav-link">算法模板</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/leetcode-runner-doc/pages/9cc27d/" class="nav-link">问答</a></div> <a href="https://github.com/xuhuafeifei/leetcode-runner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/leetcode-runner-doc/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/leetcode-runner-doc/pages/a2f161/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/a2f161/" class="nav-link">简 介</a></li><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/2f674a/" class="nav-link">安 装</a></li><li class="dropdown-item"><h4>开 始</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/793dcb/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/a20ce8/" class="nav-link">使用配置</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/98u9hk/" class="nav-link">辅助功能</a></li></ul></li><li class="dropdown-item"><h4>更新日志</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/jkljjodioj/" class="nav-link">v3.6.9-PATCH</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/leetcode-runner-doc/pages/a20ce8/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/e88d84d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">开发文档-1</a></li><li class="dropdown-item"><!----> <a href="/leetcode-runner-doc/pages/yih7ij/" class="nav-link">开发文档-2</a></li><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/0x3f/" class="nav-link">API入门</a></li><li class="dropdown-subitem"><a href="/leetcode-runner-doc/pages/7f76b7/" class="nav-link">算法模板</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/leetcode-runner-doc/pages/9cc27d/" class="nav-link">问答</a></div> <a href="https://github.com/xuhuafeifei/leetcode-runner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>源码讲解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leetcode-runner-doc/pages/e88d84d/" aria-current="page" class="active sidebar-link">开发文档-1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#整体架构" class="sidebar-link">整体架构</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#icon图标" class="sidebar-link">Icon图标</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#setting" class="sidebar-link">Setting</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#io-file" class="sidebar-link">IO-File</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#io-http" class="sidebar-link">IO-HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_1-总体介绍" class="sidebar-link">1.总体介绍</a></li><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_2-细节描述" class="sidebar-link">2.细节描述</a></li><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_3-使用demo" class="sidebar-link">3. 使用Demo</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#io-console" class="sidebar-link">IO-Console</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#ui-action" class="sidebar-link">UI-Action</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#ui-toolwindow" class="sidebar-link">UI-ToolWindow</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#ui-editor" class="sidebar-link">UI-Editor</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#service-loginservice" class="sidebar-link">Service-LoginService</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#service-questionservice" class="sidebar-link">Service-QuestionService</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#service-codeservice" class="sidebar-link">Service-CodeService</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#loginservice-cookieloginwindow" class="sidebar-link">LoginService-CookieLoginWindow</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#ui-editor-2" class="sidebar-link">UI-Editor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_1-splittexteditorprovider-和splittexteditorwithpreview" class="sidebar-link">1. SplitTextEditorProvider 和SplitTextEditorWithPreview</a></li><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_2-psiawaretexteditorimpl和focustexteditor" class="sidebar-link">2.PsiAwareTextEditorImpl和FocusTextEditor</a></li><li class="sidebar-sub-header level3"><a href="/leetcode-runner-doc/pages/e88d84d/#_3-markdowneditor、solutioneditor、submissioneditor" class="sidebar-link">3.MarkDownEditor、SolutionEditor、SubmissionEditor</a></li><li class="sidebar-sub-header level4"><a href="/leetcode-runner-doc/pages/e88d84d/#i-markdowneditor" class="sidebar-link">i.MarkDownEditor</a></li><li class="sidebar-sub-header level4"><a href="/leetcode-runner-doc/pages/e88d84d/#ii-solutioneditor、submissioneditor" class="sidebar-link">ii.SolutionEditor、SubmissionEditor</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#io-http-2" class="sidebar-link">IO-HTTP</a></li><li class="sidebar-sub-header level2"><a href="/leetcode-runner-doc/pages/e88d84d/#bus" class="sidebar-link">Bus</a></li></ul></li><li><a href="/leetcode-runner-doc/pages/yih7ij/" class="sidebar-link">开发文档-2</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/leetcode-runner-doc/pages/0x3f/" class="sidebar-link">API入门</a></li><li><a href="/leetcode-runner-doc/pages/7f76b7/" class="sidebar-link">算法模板</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-057748f7><div class="articleInfo" data-v-057748f7><ul class="breadcrumbs" data-v-057748f7><li data-v-057748f7><a href="/leetcode-runner-doc/" title="首页" class="iconfont icon-home router-link-active" data-v-057748f7></a></li> <li data-v-057748f7><span data-v-057748f7>教程</span></li><li data-v-057748f7><span data-v-057748f7>源码讲解</span></li></ul> <div class="info" data-v-057748f7><div title="作者" class="author iconfont icon-touxiang" data-v-057748f7><a href="https://github.com/itxaiohanglover" target="_blank" title="作者" class="beLink" data-v-057748f7>文艺倾年</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-057748f7><a href="javascript:;" data-v-057748f7>2025-04-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">开发文档-1<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="开发环境"><a href="#开发环境" class="header-anchor">#</a> 开发环境</h1> <blockquote><p>feigebuge推荐环境</p> <ul><li>JDK: JDK 11.0.25</li> <li>Gradle: Gradle 8.0</li> <li>IDE: IntelliJ IDEA 2023.2.3</li> <li>项目启动的IDE: IntelliJ IDEA 2022.2.3</li></ul></blockquote> <h1 id="helper-v1-0"><a href="#helper-v1-0" class="header-anchor">#</a> HELPER v1.0</h1> <h2 id="整体架构"><a href="#整体架构" class="header-anchor">#</a> 整体架构</h2> <img src="/leetcode-runner-doc/assets/img/structual.e71589ce.png" alt="structual" style="zoom:50%;"> <p>项目分为三层，分别是</p> <ul><li><p>UI层：负责和idea交互，编写显示界面</p> <ul><li>ToolWindow：工具窗口，插件项目数据显示的主题部位</li> <li>Editor：提供特定内容的显示编辑器</li> <li>Action：与UI进行交互</li></ul></li> <li><p>Service层：处理业务逻辑，负责数据与UI的交互</p></li> <li><p>Basic层：提供支持环境，目前包括setting和IO模块</p> <ul><li><p>setting：项目设置模块，可以在File-&gt;Settings部位进行项目设置</p></li> <li><p>IO</p> <ul><li><p>file：处理文件IO</p></li> <li><p>console：负责控制台IO</p></li> <li><p>http：负责网络IO，处理与leetcode平台的请求</p></li></ul></li></ul></li></ul> <h2 id="icon图标"><a href="#icon图标" class="header-anchor">#</a> Icon图标</h2> <p>一律采用svg作为项目图标, 且svg大小尽量为16x16, 如果偏小, 可选择24x24, 32x32. 最大尽量不要超过32x32</p> <p>图标命名统一为xxx.svg, xxx_dark.svg</p> <p>其中, xxx_dark.svg表示IDE如果是dark主题, 则会使用此svg作为图标</p> <p>关于svg颜色, xxx.svg尽量一律选择fill=&quot;&quot;, 也就是在IDE主题为light时, 默认的黑色; xxx_dark.svg尽量选择fill=&quot;#dbdbdb&quot;, 也就是IDE主题为dark时, 使用浅银色</p> <h2 id="setting"><a href="#setting" class="header-anchor">#</a> Setting</h2> <p>该模块用三各类维护</p> <ul><li>AppSettings：包含需要idea持久的配置数据，目前需要持久化的数据有三，分别是<code>langType</code>, <code>filePath</code>, <code>coreFilePath</code> <ul><li>langType：表示当前选择的语言，当选定langType后，插件会自动创建与langType匹配的代码文件</li> <li>filePath：指定代码文件创建目录</li> <li>coreFilePath：指定缓存文件创建目录，该值会在用户第一次设置·filePath`时确定，<strong>项目只允许创建一次</strong></li></ul></li> <li>AppSettingsComponent：提供设置的UI界面</li> <li>AppSettingsConfigurable：配置类，注册到idea当中，提供持久化AppSettings数据的能力</li></ul> <h2 id="io-file"><a href="#io-file" class="header-anchor">#</a> IO-File</h2> <p>提供与disk，memory交互的能力</p> <p><strong>架构图</strong></p> <img src="/leetcode-runner-doc/assets/img/IO-File.1ffa3ba1.png" alt="IO-File" style="zoom:50%;"> <p><code>StoreService</code>目前提供缓存 + 持久化能力</p> <p>其中缓存能力分为非持久化缓存（cache），持久化缓存（durableCache）。StoreService采用K-V结构存储数据，并在内部通过StoreContent对V进行封装。每一个缓存的数据都会序列化为Json</p> <p>StoreService提供缓存时间检测功能，但目前该功能并未在项目中真正启用</p> <p>此外，<code>StoreService</code>通过<code>@Service</code>注册为idea Project级别服务，有idea管理类的生命周期。在插件项目关闭之前，会调用<code>StoreService</code>的<strong>persistCahce()<strong>方法，将durableCache内的数据写入磁盘，存储为</strong>app.properties</strong>，磁盘路径由<strong>Settings模块的coreFilePath决定，通过AppSetting对外暴露的getCoreFilePath提供存储路径</strong></p> <h2 id="io-http"><a href="#io-http" class="header-anchor">#</a> IO-HTTP</h2> <h3 id="_1-总体介绍"><a href="#_1-总体介绍" class="header-anchor">#</a> 1.总体介绍</h3> <img src="/leetcode-runner-doc/assets/img/IO-HTTP.fbd3d4f7.png" alt="IO-HTTP-2" style="zoom:50%;"> <p>使用apache的httpclient框架作为底层请求支持，在此基础上根据lc-runner业务进行封装</p> <p>总体来说分为两层，第一层HttpClient，封装httpclient提供的基础能力，对外暴露发送get和post请求方法，此外支持cookie的相关操作</p> <p>第二层是LeetcodeClient，封装HttpClient提供能力，对业务提供各种业务接口，诸如<code>登录判断</code>，<code>题目获取</code>,<code>代码提交</code>等功能，该模块直接对接<code>service</code>模块</p> <p>另外，针对http的请求和响应，项目也做了一定封装——<code>HttpRequest</code>，<code>HttpResponse</code></p> <h3 id="_2-细节描述"><a href="#_2-细节描述" class="header-anchor">#</a> 2.细节描述</h3> <p>leetcode接口采用graphql技术，按需分配资源，关于该技术的详细介绍，可自行搜索</p> <p>关于该技术对于本项目的影响，体现在Request Body的构建上</p> <p>在没运用graphql技术前，不同资源是按照url请求路径区分，但应用该技术后，对于国内leetcode来说，大部分资源请求url都是https://leetcode.cn/graphql，而区分资源是依赖请求体</p> <p>以<strong>题目内容查询、用户状态查询</strong>接口为例</p> <blockquote><p>题目内容查询</p> <p>url = https://leetcode.cn/graphql</p> <p>body =</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\n    query problemsetQuestionList($categorySlug: String, $limit: Int, $skip: Int, $filters: QuestionListFilterInput) {\n  problemsetQuestionList(\n    categorySlug: $categorySlug\n    limit: $limit\n    skip: $skip\n    filters: $filters\n  ) {\n    hasMore\n    total\n    questions {\n      acRate\n      difficulty\n      freqBar\n      frontendQuestionId\n      isFavor\n      paidOnly\n      solutionNum\n      status\n      title\n      titleCn\n      titleSlug\n      topicTags {\n        name\n        nameTranslated\n        id\n        slug\n      }\n      extra {\n        hasVideoSolution\n        topCompanyTags {\n          imgUrl\n          slug\n          numSubscribed\n        }\n      }\n    }\n  }\n}\n    &quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;categorySlug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all-code-essentials&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;skip&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">&quot;limit&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     <span class="token property">&quot;filters&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token property">&quot;searchKeywords&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3254&quot;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">&quot;operationName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;problemsetQuestionList&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote> <blockquote><p>用户状态查询</p> <p>url = https://leetcode.cn/graphql</p> <p>body =</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\n    query globalData {\n  userStatus {\n    isSignedIn\n    isPremium\n    username\n    realName\n    avatar\n    userSlug\n    isAdmin\n    useTranslation\n    premiumExpiredAt\n    isTranslator\n    isSuperuser\n    isPhoneVerified\n    isVerified\n  }\n  jobsMyCompany {\n    nameSlug\n  }\n  commonNojPermissionTypes\n}\n    &quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;variables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></blockquote> <p>通过上述两个demo可以发现，运用了graphql技术的接口，请求体的构建相对麻烦</p> <p>基于此，封装如下三个类，帮助创建请求体</p> <img src="/leetcode-runner-doc/assets/img/requestbody.5f5fad33.png" alt="image-20211206152427409" style="zoom:50%;"> <ul><li>GraphqlReqBody，负责构建请求体</li> <li>SearchParams，是GraphqlReqBody的内部类，负责构建variables变量</li> <li>ParamsBuilder，是SearchParams的内部类，通过建造者模式辅助构建SearchParams</li></ul> <h3 id="_3-使用demo"><a href="#_3-使用demo" class="header-anchor">#</a> 3. 使用Demo</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 辅助构建varablies</span>
<span class="token class-name">GraphqlReqBody<span class="token punctuation">.</span>SearchParams</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphqlReqBody<span class="token punctuation">.</span>SearchParams<span class="token punctuation">.</span>ParamsBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setCategorySlug</span><span class="token punctuation">(</span><span class="token string">&quot;all-code-essentials&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setLimit</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setSkip</span><span class="token punctuation">(</span>skip<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 构建graphql请求体</span>
<span class="token class-name">GraphqlReqBody</span> body <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphqlReqBody</span><span class="token punctuation">(</span><span class="token class-name">LeetcodeApiUtils</span><span class="token punctuation">.</span><span class="token constant">PROBLEM_SET_QUERY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
body<span class="token punctuation">.</span><span class="token function">setBySearchParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 构建httpRequest</span>
<span class="token class-name">HttpRequest</span> httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpRequest<span class="token punctuation">.</span>RequestBuilder</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setBody</span><span class="token punctuation">(</span>body<span class="token punctuation">.</span><span class="token function">toJsonStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addBasicHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// send request</span>
<span class="token class-name">HttpResponse</span> httpResponse <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">executePost</span><span class="token punctuation">(</span>httpRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> resp <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="io-console"><a href="#io-console" class="header-anchor">#</a> IO-Console</h2> <img src="/leetcode-runner-doc/assets/img/image-20241127220901876.1bfbdbd0.png" alt="IO-Console" style="zoom:50%;"> <p>console模块负责在插件自带的控制台上输出信息</p> <h2 id="ui-action"><a href="#ui-action" class="header-anchor">#</a> UI-Action</h2> <p>官方定义：The IntelliJ Platform calls the actions of plugins in response to user interactions with the IDE</p> <p>Action，通过继承AnAction类来提供用户与IDE的交互能力，在编写完代码后，需要在plugin.xml中进行注册</p> <img src="/leetcode-runner-doc/assets/img/image-20241127221627476.ff80aae5.png" alt="image-20241127221627476" style="zoom:50%;"> <p>在本项目中，通过继承<code>AbstractAction</code>类来规范化每一个Action的行为。在<code>AbstractAction</code>中，会检查<strong>登录状态</strong>和<strong>设置状态</strong>，如果有<code>@LoginPass</code>或者<code>@SettingPass</code>注解，那么在对应检测环节则会被放行，否则进行拦截检测</p> <blockquote><p>ActionGroup，本质上也是Action，只不过他是一组Action的集合，可以在xml中用&lt;group&gt;标签注册</p></blockquote> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>        <span class="token comment">&lt;!--注册Action--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leetcode.plugin.LoginAction<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xhf.leetcode.plugin.actions.loginAction<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Sign In<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/icons/login.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

		<span class="token comment">&lt;!--注册Group--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leetcode.plugin.lcActionsToolbar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>reference</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>leetcode.plugin.LoginAction<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>separator</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ui-toolwindow"><a href="#ui-toolwindow" class="header-anchor">#</a> UI-ToolWindow</h2> <img src="/leetcode-runner-doc/assets/img/image-20241127222354936.b408d569.png" alt="image-20241127222429401" style="zoom:50%;"> <p>工具窗口，拓展idea功能的窗口，本项目关于这部分的模块图如下</p> <img src="/leetcode-runner-doc/assets/img/toolwindow.71aa077b.png" alt="image-20241127222429401" style="zoom:50%;"> <p><code>ToolWindowFactory</code>负责为<code>ToolWindow</code>创建内容，<code>Panel</code>则是<code>ToolWindow</code>显示内容的载体</p> <p>ToolWindow由idea自身提供，ToolWIndowFactory负责将Panel添加到ToolWindow内</p> <p>在本项目中，Panel所在位置如下所示</p> <img src="/leetcode-runner-doc/assets/img/image-20241127222932790.763da1f0.png" alt="image-20241127222932790" style="zoom:50%;"> <ul><li>LCPanel：包含两部分数据内容，分别是Toolbar工具栏，JBList列表。LCPanel通过继承DataProvider提供对外暴露JBList的能力</li> <li>LCConsolePanel：只包含ConsoleView，LCConsolePanel同样通过继承DataProvider提供对外暴露consoleView的能力</li></ul> <h2 id="ui-editor"><a href="#ui-editor" class="header-anchor">#</a> UI-Editor</h2> <img src="/leetcode-runner-doc/assets/img/UI-Editor.096d8e97.png"> <p>Editor，提供特定文件的编辑显示能力。比如说普通的文本编辑器，只会显示html代码。但自定义的Html编辑器，则会按照html的语法，显示内容</p> <p>在idea中，提供自定义文本编辑器依赖于两个类</p> <ul><li>FileEditorProvider：负责提供FileEditor，同时检测特定文件是否支持用特定Editor打开</li> <li>FileEditor：负责处理文件内容，提供显示的JComponent</li></ul> <p>在本项目中，为了支持分屏显示代码和题目内容，使用<code>SpliterTextEditorProvider</code>和<code>SplitTextEditorWithPreview</code>提供相关能力</p> <ul><li>SpliterTextEditorProvider：在提供分屏Editor的同时，检测当前文件是否支持分屏Editor预览。该类通过查询StoreService中是否缓存相关文件信息，来判断当前文件是否支持SplitTextEditor</li> <li>SplitTextEditorWithPreview：提供分屏预览能力，在本项目中，第一块分屏是<code>PsiAwareTextEditorImpl</code>，第二块分屏是<code>MarkDownEditor</code></li></ul> <blockquote><p>MarkdownEditor，在第一个版本中，并不支持markdown内容的显示，只支持HTML代码的显示。其显示原理是，读取自定义的HTML模板代码，同时将HTML代码注入其中。然后通过JCEF技术，启动<code>CefBrowser</code>，通过模拟浏览器的方式打开处理后的HTML内容</p></blockquote> <h2 id="service-loginservice"><a href="#service-loginservice" class="header-anchor">#</a> Service-LoginService</h2> <p>loginService，负责处理登录有关的逻辑，利用JCEF技术，模拟启动浏览器，通过加载leetcode登录界面来提供登录功能</p> <blockquote><p>需要注意的是，当前leetcode并不支持通过uesrname和password的方式用本地代码模拟登录。leetcode官网存在参数校验的机制，在发出登录请求的同时会携带该参数。该参数只有在官网登录的时候才会携带，单纯的代码模拟无法正确登录</p></blockquote> <p>每当<code>JBCefClient</code>加载状态改变，都会执行监控逻辑，检测当前<code>CefCookieManager</code>中是否存在name为<code>LEETCODE_SESSION</code>的Cookie，如果存在，缓存到<strong>HTTP</strong>模块，同时通过<code>StoreService</code>进行持久化，登录完成后关闭当前登录窗口，加载题目信息，更新<code>LCPanel</code></p> <p>为了判断当前项目是否登录，<code>LoginService</code>对外暴露<code>isLogin</code>接口，该接口原理是通过<code>LoginService</code>内部的<strong>loginFlag</strong>参数和<strong>LeetcodeClient</strong>提供的接口共同判断，前者判断插件是否执行成功过登录逻辑，后者判断当前cookie是否能够代表客户端成功登录</p> <h2 id="service-questionservice"><a href="#service-questionservice" class="header-anchor">#</a> Service-QuestionService</h2> <p>questionService，负责处理question相关逻辑。</p> <p><code>loadAllQuestionData</code>，该方法会在后台查询所有leetcode问题，查询完成后更新LCPanel暴露的JBList</p> <p>其余业务内容注释中都有解释，没啥好说的</p> <h2 id="service-codeservice"><a href="#service-codeservice" class="header-anchor">#</a> Service-CodeService</h2> <img src="/leetcode-runner-doc/assets/img/codeService.4c49074d.png"> <p>上图表示CodeService与其他模块的沟通信息</p> <p>首先介绍<code>LeetcodeEditor</code>，该类用于存储围绕题目内容，创建editor所需要的相关信息</p> <img src="/leetcode-runner-doc/assets/img/未命名文件 (8).95971456.png" alt="未命名文件 (8)" style="zoom:25%;"> <ul><li>questionId：当前题目的id</li> <li>lang：编写当前题目用当的语言类型，比如java或者python</li> <li>exampleTestcases：当前题目运行的测试样例【后续可以通过<code>TestcaseAction</code>更改】</li> <li>markdownContent：<strong>题目内容</strong>【MarkDownEditor渲染所需的内容来源】</li> <li>titleSlug：题目的slug标签，用于唯一标识题目，<strong>该字段是http模块发送请求时的必要字段</strong></li> <li>defaultTestcases：官方提供的测试用例</li></ul> <p>LeetcodeEditor会在<code>openCode()</code>方法中被创建，然后存储到storeService中</p> <p>openCode()通过点击LCPanel显示的JBList触发，该方法的大致逻辑是</p> <ol><li>填充用户选定的question，丰富其中的信息</li> <li>创建code文件，获取文件路径</li> <li>创建并存储leetcodeEditor，维护额外信息。存贮的key是code文件的<strong>文件路径</strong></li> <li>打开文件，并用SplitTextWithPreview显示</li></ol> <p>runCode()，通过当前打开的FileEditor获取显示的code文件路径，以此作为key，从cache中获取LeetcodeEditor维护的信息，然后执行运行逻辑，将代码通过<code>LeetcodeClient</code>提交到Leetcode平台。运行的结果在通过<code>ConsoleUtils</code>输出到控制台</p> <p>TestCase()，与runcode类似，通过code 路径获取leetcodeEditor信息。创建Dialog与用户交互，将用户提供的测试数据存入LeetcodeEditor内，更新测试用例</p> <blockquote><p>Tip：在runCode()方法中，通过<code>AbstractResultBuilder</code>将运行结果转化为String，然后再将String交由ConsoleUtils输出</p> <p>有关于<code>AbstractResultBuilder</code>类的详细内容，请参考源码</p></blockquote> <h1 id="v2-0"><a href="#v2-0" class="header-anchor">#</a> v2.0</h1> <p>新增内容</p> <ul><li>登录模块，新增cookie登录</li> <li>editor模块，支持同时阅览<code>题目内容</code>，<code>题解</code>, <code>提交记录</code>。支持html于markdown的内容阅览</li> <li>新增http处理器</li> <li>新增事件总线，解耦模块</li></ul> <h2 id="loginservice-cookieloginwindow"><a href="#loginservice-cookieloginwindow" class="header-anchor">#</a> LoginService-CookieLoginWindow</h2> <img src="/leetcode-runner-doc/assets/img/未命名文件.95fc5b34.png" alt="未命名文件" style="zoom:25%;"> <p>Cookie登录和Jcef登录存在通用逻辑，因此向上抽取抽象类</p> <p>BasicWindow通过start()方法启动，getFrameTItle(), loadConponent()方法下放到子类实现。前者要求子类设置启动window的title，后者要求子类填充window的内容</p> <p>此外，CookieLoginWindow用JTextArea要求用户输入名为<code>LEETCODE_SESSTION</code>的Cookie信息</p> <h2 id="ui-editor-2"><a href="#ui-editor-2" class="header-anchor">#</a> UI-Editor</h2> <img src="/leetcode-runner-doc/assets/img/editor.bec586a1.png"> <p>Editor模块稍显复杂，文档将会按照等级依次介绍</p> <h3 id="_1-splittexteditorprovider-和splittexteditorwithpreview"><a href="#_1-splittexteditorprovider-和splittexteditorwithpreview" class="header-anchor">#</a> 1. SplitTextEditorProvider 和SplitTextEditorWithPreview</h3> <p>SplitTextEditorProvider 提供SplitTextEditorWithPreview，SplitTextEditorWithPreview提供第一层的分屏预览能力，左侧是编码区域，右侧是内容预览区域</p> <img src="/leetcode-runner-doc/assets/img/image-20241128112353125.af2808b8.png"> <h3 id="_2-psiawaretexteditorimpl和focustexteditor"><a href="#_2-psiawaretexteditorimpl和focustexteditor" class="header-anchor">#</a> 2.PsiAwareTextEditorImpl和FocusTextEditor</h3> <p>PsiAwareTextEditorImpl作为SplitTextEditorWithPreview左侧的编辑区域，提供代码编辑能力</p> <p>FocusTextEditor作为右侧编辑区域，提供tabs显示能力，包含三个tab，每个tab的显示内容由3个FileEditor维护</p> <img src="/leetcode-runner-doc/assets/img/image-20241128112620398.15613121.png" alt="image-20241128112729808" style="zoom:33%;"> <h3 id="_3-markdowneditor、solutioneditor、submissioneditor"><a href="#_3-markdowneditor、solutioneditor、submissioneditor" class="header-anchor">#</a> 3.MarkDownEditor、SolutionEditor、SubmissionEditor</h3> <h4 id="i-markdowneditor"><a href="#i-markdowneditor" class="header-anchor">#</a> i.MarkDownEditor</h4> <p>MarkDownEditor，提供HTML、Markdown内容的显示能力，其原理是通过JCEF加载处理后的HTML文件，通过模拟浏览器选软HTML内容</p> <p>Markdown内容渲染，使用前端vditor框架渲染。因为该框架在项目首次启动<strong>渲染Markdown耗时很长</strong>，因此在渲染HTML的时候会<strong>提前加载需要的js、css文件</strong></p> <img src="/leetcode-runner-doc/assets/img/image-20241128113107495.d63eb676.png"> <h4 id="ii-solutioneditor、submissioneditor"><a href="#ii-solutioneditor、submissioneditor" class="header-anchor">#</a> ii.SolutionEditor、SubmissionEditor</h4> <p>SolutionEditor、SubmissionEditor分别提供题解、提交记录显示</p> <img src="/leetcode-runner-doc/assets/img/image-20241128113655951.1039570a.png" alt="image-20241128113655951" style="zoom:33%;"> <img src="/leetcode-runner-doc/assets/img/image-20241128113718533.ab909e5f.png" alt="image-20241128113718533" style="zoom:33%;"> <p>上述两种FileEditor都需要分屏显示功能，因此向上抽取<code>AbstractSplitTextEditor</code>抽象类，提供分窗能力</p> <p><strong>AbstractSplitTextEditor</strong></p> <img src="/leetcode-runner-doc/assets/img/未命名文件 (2).52553f96.png" alt="未命名文件 (2)" style="zoom:33%;"> <ul><li><p>AbstractSplitTextEditor核心组件<code>jbSplitter</code>，提供分屏显示的能力</p></li> <li><p>createToolbarWrapper()为component创建工具栏，提供关闭右侧分屏的能力</p></li> <li><p>initFirstComp()的实现下放到子类，初始化分屏左侧内容</p></li> <li><p>openSecond(String)的实现下放到子类，创建右侧分屏内容</p></li></ul> <img src="/leetcode-runner-doc/assets/img/image-20241128114640151.9525c5fc.png" alt="image-20241128114712906" style="zoom:33%;"> <h2 id="io-http-2"><a href="#io-http-2" class="header-anchor">#</a> IO-HTTP</h2> <p>当前http模块通过web方式，提供resource目录下的资源内容。当前模块服务于markdown内容显示</p> <p>本项目中，采用JCEF方式模拟浏览器，使用前端框架<code>vditor</code>渲染markdown内容。markdown的内容显示依赖于框架js、css代码，因此需要提供web能力，加载文件内容</p> <p><code>LocalHttpRequestHandler</code>负责拦截idea发出的http请求，如果请求前缀是&quot;/leetcode-project/&quot;，则交由<code>LocalResourceController</code>负责处理，读取resource目录下的js、css文件内容</p> <h2 id="bus"><a href="#bus" class="header-anchor">#</a> Bus</h2> <img src="/leetcode-runner-doc/assets/img/bus.153049b5.png"> <p>总线模块，提供注册和发送消息的能力。订阅方注册到特定的Topic内，接受投放到Topic中的消息内容</p> <p><code>LCSubscriber</code>，订阅者，当特定Topic内存在消息，订阅者的<code>onEvent()</code>方法将会被触发</p> <p><code>LCEventBus</code>，提供消息投递和订阅者注册功能。<code>LCEventBus</code>允许将订阅者注册到内部的订阅池，并按照不同的Topic进行存储，每个Topic是<code>LCEvent</code>的子类的class。当有观察者通过<code>LCEventBus</code>投递消息，<code>LCEventBus</code>将会通知订阅相关Topic的所有订阅者</p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/itxaiohanglover/leetcode-runner-doc/edit/master/docs/02.教程/01.源码讲解/01.开发文档-1.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/04/02, 14:09:35</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/leetcode-runner-doc/pages/yih7ij/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">开发文档-2</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/leetcode-runner-doc/pages/yih7ij/">开发文档-2</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/itxaiohanglover" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://github.com/xuhuafeifei" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2025-2025
    <span>文艺倾年 | 飞哥不鸽</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/leetcode-runner-doc/assets/js/app.9f0fb41e.js" defer></script><script src="/leetcode-runner-doc/assets/js/2.0d2480f6.js" defer></script><script src="/leetcode-runner-doc/assets/js/5.2eb752c5.js" defer></script>
  </body>
</html>
